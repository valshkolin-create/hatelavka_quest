<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–ê—É–∫—Ü–∏–æ–Ω</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="/public/auction.css" />
</head>
<body>
    <div id="loader-overlay" class="loader-overlay hidden">
        <div class="spinner"></div>
    </div>

    <main id="main-content">
        <div id="pull-to-refresh">
            <i class="fa-solid fa-rotate-right"></i>
        </div>

        <div class="container">
            <div class="new-header-container">
    <a href="#" id="header-back-btn" class="header-back-button">
        <i class="fa-solid fa-chevron-left"></i> –ù–∞–∑–∞–¥
    </a>
                <div class="page-header">
                    <h2 class="page-title">–ê–£–ö–¶–ò–û–ù</h2>
                </div>
            </div>
            
            <div id="auctions-list" class="auctions-container">
            </div>

            <button id="archive-btn" class="archive-toggle-btn">
                <i class="fa-solid fa-box-archive"></i> –ê—Ä—Ö–∏–≤ –≤—ã–∏–≥—Ä—ã—à–µ–π
            </button>

            <div class="info-blocks-container">
                <div class="info-block">
                    <i class="fa-solid fa-gavel info-icon"></i>
                    <div class="info-text-content">
                        <h3 class="info-title">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h3>
                        <p class="info-description">–î–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É. –í–∞—à–∞ —Å—Ç–∞–≤–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π.</p>
                    </div>
                </div>
                <div class="info-block">
                    <i class="fa-solid fa-hourglass-half info-icon"></i>
                    <div class="info-text-content">
                        <h3 class="info-title">–¢–∞–π–º–µ—Ä –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞</h3>
                        <p class="info-description">–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π —Å—Ç–∞–≤–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–∞–π–º–µ—Ä. –ï—Å–ª–∏ –Ω–∏–∫—Ç–æ –Ω–µ –ø–µ—Ä–µ–±—å–µ—Ç –≤–∞—à—É —Å—Ç–∞–≤–∫—É –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è ‚Äî –≤—ã –ø–æ–±–µ–¥–∏–ª–∏.</p>
                    </div>
                </div>
                <div class="info-block">
                    <i class="fa-solid fa-shield-halved info-icon"></i>
                    <div class="info-text-content">
                        <h3 class="info-title">–ß–µ—Å—Ç–Ω–∞—è –∏–≥—Ä–∞</h3>
                        <p class="info-description">–ë–∏–ª–µ—Ç—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è <b>—Ç–æ–ª—å–∫–æ</b> —É –ø–æ–±–µ–¥–∏—Ç–µ–ª—è. –ï—Å–ª–∏ –≤–∞—à—É —Å—Ç–∞–≤–∫—É –ø–µ—Ä–µ–±–∏–ª–∏, –≤–∞—à–∏ –±–∏–ª–µ—Ç—ã –Ω–µ —Ç—Ä–∞—Ç—è—Ç—Å—è.</p>
                    </div>
                </div>
            </div> </div> </main> <div id="bid-modal" class="modal-overlay hidden">
                
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="bid-modal-title" style="margin: 0;">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É</h3>
                <button type="button" class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p style="font-size: 14px; color: var(--text-secondary);">
                    –í–∞—à –±–∞–ª–∞–Ω—Å: <strong id="user-balance-display" style="color: var(--text-primary);">0</strong> üéüÔ∏è
                </p>
                <form id="bid-modal-form" class="modal-form">
                    <input type="hidden" id="bid-auction-id-input">
                    <input type="hidden" id="bid-current-min-input"> 
                    <label>–í–∞—à–∞ —Å—Ç–∞–≤–∫–∞ (–±–∏–ª–µ—Ç—ã)</label>
                    <input type="number" id="bid-amount-input" required min="1" placeholder="–ë–æ–ª—å—à–µ —á–µ–º...">
                    <button type="submit">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                </form>
            </div>
        </div>
    </div>

    <div id="bids-history-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="bids-history-modal-title" style="margin: 0;">–í—Å–µ —Å—Ç–∞–≤–∫–∏</h3>
                <button type="button" class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <ul id="bids-history-list">
                    </ul>
            </div>
        </div>
    </div>

    <div id="archive-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 style="margin: 0;">–ò—Å—Ç–æ—Ä–∏—è –ø–æ–±–µ–¥</h3>
                <button type="button" class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="archive-list" class="archive-list">
                    </div>
            </div>
        </div>
    </div>

    <div id="auction-edit-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="auction-edit-modal-title" style="margin: 0;">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ—Ç</h3>
                <button type="button" class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="auction-edit-form" class="modal-form">
                    <input type="hidden" id="auction-id-input">
                    
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ª–æ—Ç–∞</label>
                    <input type="text" id="auction-title-input" required>
                    
                    <label>URL –∫–∞—Ä—Ç–∏–Ω–∫–∏</label>
                    <input type="text" id="auction-image-input" placeholder="https://...">

                    <div style="display: flex; gap: 10px;">
                        <div style="flex: 1;">
                            <label>–†–µ–¥–∫–æ—Å—Ç—å (–¶–≤–µ—Ç)</label>
                            <select id="auction-rarity-input" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); background-color: var(--surface-secondary); color: var(--text-primary); margin-top: 5px;">
                                <option value="">-- –û–±—ã—á–Ω–æ–µ --</option>
                                <option value="common">–®–∏—Ä–ø–æ—Ç—Ä–µ–± (–°–∏–Ω–∏–π)</option>
                                <option value="uncommon">–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–µ (–ì–æ–ª—É–±–æ–π)</option>
                                <option value="rare">–ê—Ä–º–µ–π—Å–∫–æ–µ (–°–∏–Ω–∏–π)</option>
                                <option value="mythical">–ó–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–µ (–§–∏–æ–ª–µ—Ç–æ–≤—ã–π)</option>
                                <option value="legendary">–ó–∞—Å–µ–∫—Ä–µ—á–µ–Ω–Ω–æ–µ (–†–æ–∑–æ–≤—ã–π)</option>
                                <option value="ancient">–¢–∞–π–Ω–æ–µ (–ö—Ä–∞—Å–Ω—ã–π)</option>
                                <option value="immortal">–ù–æ–∂/–ó–æ–ª–æ—Ç–æ–µ (–ó–æ–ª–æ—Ç–æ–π)</option>
                            </select>
                        </div>
                        <div style="flex: 1;">
                            <label>–ö–∞—á–µ—Å—Ç–≤–æ</label>
                            <select id="auction-wear-input" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); background-color: var(--surface-secondary); color: var(--text-primary); margin-top: 5px;">
                                <option value="">-- –ù–µ—Ç --</option>
                                <option value="Factory New">–ü—Ä—è–º–æ —Å –∑–∞–≤–æ–¥–∞</option>
                                <option value="Minimal Wear">–ù–µ–º–Ω–æ–≥–æ –ø–æ–Ω–æ—à–µ–Ω–Ω–æ–µ</option>
                                <option value="Field-Tested">–ü–æ—Å–ª–µ –ø–æ–ª–µ–≤—ã—Ö</option>
                                <option value="Well-Worn">–ü–æ–Ω–æ—à–µ–Ω–Ω–æ–µ</option>
                                <option value="Battle-Scarred">–ó–∞–∫–∞–ª–µ–Ω–Ω–æ–µ –≤ –±–æ—è—Ö</option>
                            </select>
                        </div>
                    </div>
                    <label>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å (–±–∏–ª–µ—Ç—ã)</label>
                    <input type="number" id="auction-min-tickets-input" value="1" min="1" required>
                    
                    <label>–ú–∞–∫—Å. –±–∞–ª–∞–Ω—Å (0 = –±–µ–∑ –ª–∏–º–∏—Ç–∞)</label>
                    <input type="number" id="auction-max-tickets-input" value="0" min="0">
                    
                    <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—á–∞—Å—ã)</label>
                    <input type="number" id="auction-cooldown-input" value="24" min="1" required>
                    
                    <label>–î–æ–ø.–º–∏–Ω—É—Ç—ã (–ø–æ—Å–ª–µ —Å—Ç–∞–≤–∫–∏)</label>
                    <input type="number" id="auction-snipe-minutes-input" value="5" min="1" required>
                    
                    <div class="checkbox-container">
                        <input type="checkbox" id="auction-active-input">
                        <label for="auction-active-input">–ê–∫—Ç–∏–≤–µ–Ω (–∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞–π–º–µ—Ä)</label>
                    </div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="auction-visible-input">
                        <label for="auction-visible-input">–í–∏–¥–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</label>
                    </div>

                    <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </form>
            </div>
        </div>
    </div>
  
    <div id="admin-controls" class="admin-controls" style="display: none;">
        <div class="admin-toggle-switch">
            <input type="checkbox" id="edit-mode-toggle">
            <label for="edit-mode-toggle">
                <span class="toggle-icon"><i class="fa-solid fa-pencil"></i></span>
                <span class="toggle-text">–†–µ–∂–∏–º —Ä–µ–¥.</span>
            </label>
        </div>
    </div>

     <footer class="app-footer">
    <a href="/leaderboard" class="footer-item">
        <div class="icon-wrapper"><i class="fa-solid fa-trophy"></i></div>
        <span>–õ–∏–¥–µ—Ä–±–æ—Ä–¥</span>
    </a>
    <a href="/quests" id="nav-quests" class="footer-item"><div class="icon-wrapper"><i class="fa-solid fa-check-double"></i></div><span>–ó–∞–¥–∞–Ω–∏—è</span></a>
        <a href="/menu" class="footer-item">
        <div class="icon-wrapper"><i class="fa-solid fa-house"></i></div>
        <span>–ì–ª–∞–≤–Ω–∞—è</span>
    </a>
    <a href="/events" class="footer-item">
        <div class="icon-wrapper"><i class="fa-solid fa-fire"></i></div>
        <span>–ì—Ä–∏–Ω–¥</span>
    </a>
    <a href="/auction" class="footer-item active">
        <div class="icon-wrapper"><i class="fa-solid fa-gavel"></i></div>
        <span>–ê—É–∫—Ü–∏–æ–Ω</span>
    </a>
</footer>

    <script src="/public/auction.js"></script>
</body>
</html>
