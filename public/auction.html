<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–ê—É–∫—Ü–∏–æ–Ω</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="/public/auction.css" />
</head>
<body>
    <div id="loader-overlay" class="loader-overlay hidden">
        <div class="spinner"></div>
    </div>

    <div class="container">
        <a href="/menu" class="header-back-button">
            <i class="fa-solid fa-chevron-left"></i> –ì–õ–ê–í–ù–ê–Ø
        </a>

        <h2 class="page-title">–ê–∫—Ç–∏–≤–Ω—ã–µ –ª–æ—Ç—ã</h2>
        
        <div id="auctions-list" class="auctions-container">
            </div>

        <div class="info-blocks-container">
            <div class="info-block">
                <i class="fa-solid fa-gavel info-icon"></i>
                <div class="info-text-content">
                    <h3 class="info-title">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h3>
                    <p class="info-description">–î–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É. –í–∞—à–∞ —Å—Ç–∞–≤–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π.</p>
                </div>
            </div>
            <div class="info-block">
                <i class="fa-solid fa-hourglass-half info-icon"></i>
                <div class="info-text-content">
                    <h3 class="info-title">–¢–∞–π–º–µ—Ä –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞</h3>
                    <p class="info-description">–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π —Å—Ç–∞–≤–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–∞–π–º–µ—Ä. –ï—Å–ª–∏ –Ω–∏–∫—Ç–æ –Ω–µ –ø–µ—Ä–µ–±—å–µ—Ç –≤–∞—à—É —Å—Ç–∞–≤–∫—É –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è ‚Äî –≤—ã –ø–æ–±–µ–¥–∏–ª–∏.</p>
                </div>
            </div>
            <div class="info-block">
                <i class="fa-solid fa-shield-halved info-icon"></i>
                <div class="info-text-content">
                    <h3 class="info-title">–ß–µ—Å—Ç–Ω–∞—è –∏–≥—Ä–∞</h3>
                    <p class="info-description">–ë–∏–ª–µ—Ç—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è <b>—Ç–æ–ª—å–∫–æ</b> —É –ø–æ–±–µ–¥–∏—Ç–µ–ª—è. –ï—Å–ª–∏ –≤–∞—à—É —Å—Ç–∞–≤–∫—É –ø–µ—Ä–µ–±–∏–ª–∏, –≤–∞—à–∏ –±–∏–ª–µ—Ç—ã –Ω–µ —Ç—Ä–∞—Ç—è—Ç—Å—è.</p>
                </div>
            </div>
        </div>
    </div>
  
    <div id="bid-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="bid-modal-title" style="margin: 0;">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É</h3>
                <button type="button" class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p style="font-size: 14px; color: var(--text-secondary);">
                    –í–∞—à –±–∞–ª–∞–Ω—Å: <strong id="user-balance-display" style="color: var(--text-primary);">0</strong> üéüÔ∏è
                </p>
                <form id="bid-modal-form" class="modal-form">
                    <input type="hidden" id="bid-auction-id-input">
                    <input type="hidden" id="bid-current-min-input"> 
                    <label>–í–∞—à–∞ —Å—Ç–∞–≤–∫–∞ (–±–∏–ª–µ—Ç—ã)</label>
                    <input type="number" id="bid-amount-input" required min="1" placeholder="–ë–æ–ª—å—à–µ —á–µ–º...">
                    <button type="submit">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                </form>
            </div>
        </div>
    </div>

    <div id="bids-history-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="bids-history-modal-title" style="margin: 0;">–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫</h3>
                <button type="button" class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <ul id="bids-history-list">
                    </ul>
            </div>
        </div>
    </div>

    <div id="admin-controls" class="admin-controls" style="display: none;">
        <button id="edit-btn">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
    </div>

    <div id="auction-edit-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="auction-edit-modal-title" style="margin: 0;">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ—Ç</h3>
                <button type="button" class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="auction-edit-form" class="modal-form">
                    <input type="hidden" id="auction-id-input">
                    
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ª–æ—Ç–∞</label>
                    <input type="text" id="auction-title-input" required>
                    
                    <label>URL –∫–∞—Ä—Ç–∏–Ω–∫–∏</label>
                    <input type="text" id="auction-image-input" placeholder="https://...">
                    
                    <label>–ö—É–ª–¥–∞—É–Ω (—á–∞—Å—ã)</label>
                    <input type="number" id="auction-cooldown-input" value="4" min="1" required>
                    
                    <div class="checkbox-container">
                        <input type="checkbox" id="auction-active-input">
                        <label for="auction-active-input">–ê–∫—Ç–∏–≤–µ–Ω (–∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞–π–º–µ—Ä)</label>
                    </div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="auction-visible-input">
                        <label for="auction-visible-input">–í–∏–¥–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</label>
                    </div>

                    <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </form>
            </div>
        </div>
    </div>
  
    <footer class="app-footer">
        <a href="/menu" class="footer-item"> 
            <div class="icon-wrapper"><i class="fa-solid fa-house"></i></div>
            <span>–ì–ª–∞–≤–Ω–∞—è</span>
        </a>
        <a href="/events" class="footer-item">
            <div class="icon-wrapper"><i class="fa-solid fa-gift"></i></div>
            <span>–†–æ–∑—ã–≥—Ä—ã—à–∏</span>
        </a>
        <a href="/auction" class="footer-item active">
            <div class="icon-wrapper"><i class="fa-solid fa-gavel"></i></div>
            <span>–ê—É–∫—Ü–∏–æ–Ω</span>
        </a>
        <a href="/profile" class="footer-item">
            <div class="icon-wrapper"><i class="fa-solid fa-user"></i></div>
            <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
        </a>
    </footer>

    <script src="/public/auction.js"></script>
</body>
</html>
