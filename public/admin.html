<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="stylesheet" href="admin.css">
</head>
<body>

    <button id="sleep-mode-toggle" class="sleep-mode-toggle hidden" title="–†–µ–∂–∏–º —Å–Ω–∞">
        <i class="fa-solid fa-power-off"></i>
    </button>

    <div id="loader-overlay" class="loader-overlay hidden">
        <div class="spinner"></div>
    </div>

    <main id="app-container" class="main-content">
        <div id="view-admin-main" class="view">
            <div class="page-header">
                <a href="/menu" class="back-button"><i class="fa-solid fa-house"></i> –ù–∞–∑–∞–¥</a>
                <h1 class="page-header-title">–ê–¥–º–∏–Ω–∫–∞</h1>
                <div style="width: 80px;"></div>
            </div>

            <div class="tabs-container main-tabs">
                <button class="tab-button active" data-tab="main">–û—Å–Ω–æ–≤–Ω–æ–µ</button>
                <button class="tab-button" data-tab="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
            </div>

            <div id="tab-content-main" class="tab-content active">
                <div class="admin-icon-menu">
                    <div class="admin-icon-button" data-view="view-admin-pending-actions">
                        <div class="icon-wrapper">
                            <i class="fa-solid fa-user-check"></i>
                            <span class="notification-badge hidden" id="main-pending-count">0</span>
                        </div>
                        <span>–í—ã–¥–∞—á–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏</span>
                    </div>
                    <div class="admin-icon-button" data-view="view-admin-twitch-rewards">
                        <div class="icon-wrapper" style="color: var(--twitch-color);"><i class="fa-brands fa-twitch"></i></div>
                        <span>Twitch –Ω–∞–≥—Ä–∞–¥—ã</span>
                    </div>
                    <div class="admin-icon-button" data-view="view-admin-promocodes">
                        <div class="icon-wrapper"><i class="fa-solid fa-ticket"></i></div>
                        <span>–ü—Ä–æ–º–æ–∫–æ–¥—ã</span>
                    </div>
                </div> </div> <div id="tab-content-admin" class="tab-content hidden">
                <div class="admin-icon-menu">
                    <div class="admin-icon-button" data-view="view-admin-quests">
                        <div class="icon-wrapper"><i class="fa-solid fa-list-check"></i></div>
                        <span>–ó–∞–¥–∞–Ω–∏—è</span>
                    </div>
                    <div class="admin-icon-button" data-view="view-admin-challenges">
                        <div class="icon-wrapper"><i class="fa-solid fa-trophy"></i></div>
                        <span>–ß–µ–ª–ª–µ–Ω–¥–∂–∏</span>
                    </div>
                    <div class="admin-icon-button" data-view="view-admin-categories">
                        <div class="icon-wrapper"><i class="fa-solid fa-folder-tree"></i></div>
                        <span>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</span>
                    </div>
                    <div class="admin-icon-button" data-view="view-admin-settings">
                        <div class="icon-wrapper"><i class="fa-solid fa-sliders"></i></div>
                        <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                    </div>
                    <div class="admin-icon-button" data-view="view-admin-roulette">
                        <div class="icon-wrapper" style="color: var(--warning-color);"><i class="fa-solid fa-dice"></i></div>
                        <span>–†—É–ª–µ—Ç–∫–∏</span>
                    </div>
                     <div class="admin-icon-button" data-view="view-admin-statistics">
                        <div class="icon-wrapper" style="color: var(--primary-color);"><i class="fa-solid fa-chart-line"></i></div>
                        <span>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                    </div>
                    <a href="/roulette.html" target="_blank" class="admin-icon-button">
                        <div class="icon-wrapper"><i class="fa-solid fa-eye"></i></div>
                        <span>–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä—É–ª–µ—Ç–∫–∏</span>
                    </a>
                    <div class="admin-icon-button" data-view="view-admin-user-management">
                        <div class="icon-wrapper"><i class="fa-solid fa-user-gear"></i></div>
                        <span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
                    </div>
                    <div class="admin-icon-button" data-view="view-admin-cauldron">
                        <div class="icon-wrapper" style="color: #ff9500;"><i class="fa-solid fa-hat-wizard"></i></div>
                        <span>–ò–≤–µ–Ω—Ç "–ö–æ—Ç–µ–ª"</span>
                    </div>
                  <div class="admin-icon-button" data-view="view-admin-auctions">
                    <div class="icon-wrapper" style="color: #AC87C5;"><i class="fa-solid fa-gavel"></i></div>
                    <span>–ê—É–∫—Ü–∏–æ–Ω—ã</span>
                </div>
                  <div class="admin-icon-button" data-view="view-admin-weekly-goals">
                        <div class="icon-wrapper" style="color: #FFC107;"><i class="fa-solid fa-calendar-week"></i></div>
                        <span>–ù–µ–¥–µ–ª—å–Ω—ã–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è</span>
                    </div>
                  <div class="admin-icon-button" data-view="view-admin-schedule">
                    <div class="icon-wrapper" style="color: #A065F7;"><i class="fa-solid fa-calendar-alt"></i></div>
                    <span>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
                </div>
                  
                </div> </div> <div class="quest-card" style="margin-top: 20px; text-align: center;">
                <p style="font-size: 14px; color: var(--text-color-muted); margin:0;">
                    –ü–∞–Ω–µ–ª—å –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–Ω–∞–ª–∞ HATElove.ttv.
                </p>
            </div>
        </div> 
      <div id="view-admin-user-management" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h1>
                <div style="width: 60px;"></div> </div>

<div class="quest-card">
            <div class="user-management-section">
                <h3><i class="fa-solid fa-gifts" style="color: var(--primary-color);"></i> –í—ã–¥–∞—á–∞ –Ω–∞–≥—Ä–∞–¥</h3>
                <div class="admin-form">
                    <label>–í—ã–¥–∞—Ç—å –∑–≤–µ–∑–¥—ã –ß–µ–∫–ø–æ–∏–Ω—Ç–∞<div class="tooltip">?<span class="tooltip-text">–î–æ–±–∞–≤–ª—è–µ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤—ë–∑–¥ –ß–µ–∫–ø–æ–∏–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.</span></div></label>
                    <form id="grant-checkpoint-stars-form" class="hidden admin-sub-form">
                        <p>–î–ª—è: <strong id="grant-cp-user-name">...</strong></p>
                        <input type="hidden" name="user_id_to_grant_cp">
                        <input type="number" name="amount_cp" required placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤–µ–∑–¥">
                        <button type="submit">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–¥–∞—á—É</button>
                    </form>
                    <button id="open-grant-cp-search" class="admin-menu-button">
                        <i class="fa-solid fa-search"></i> –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    </button>
                </div>
                <div class="admin-form" style="margin-top: 20px;">
                    <label>–í—ã–¥–∞—Ç—å –±–∏–ª–µ—Ç—ã<div class="tooltip">?<span class="tooltip-text">–î–æ–±–∞–≤–ª—è–µ—Ç –±–∏–ª–µ—Ç—ã –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–∞—Ö.</span></div></label>
                    <form id="grant-tickets-form" class="hidden admin-sub-form">
                        <p>–î–ª—è: <strong id="grant-tickets-user-name">...</strong></p>
                        <input type="hidden" name="user_id_to_grant_tickets">
                        <input type="number" name="amount_tickets" required placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤">
                        <button type="submit">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–¥–∞—á—É</button>
                    </form>
                    <button id="open-grant-tickets-search" class="admin-menu-button">
                        <i class="fa-solid fa-search"></i> –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    </button>
                </div>
                <div class="admin-form" style="margin-top: 20px;">
                    <label>–í—ã–¥–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥<div class="tooltip">?<span class="tooltip-text">–ù–∞—Ö–æ–¥–∏—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –Ω–æ–º–∏–Ω–∞–ª–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –õ–°.</span></div></label>
                    <button id="open-issue-promocode-search" class="admin-menu-button">
                        <i class="fa-solid fa-search"></i> –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    </button>
                </div>
            </div>
        </div>

        <div class="quest-card" style="margin-top: 20px;">
            <div class="user-management-section">
                <h3><i class="fa-solid fa-clipboard-list" style="color: var(--action-color);"></i> –ñ—É—Ä–Ω–∞–ª –≤—ã–¥–∞—á–∏ (7 –¥–Ω–µ–π)</h3>
                <div id="admin-grant-log-list" style="max-height: 300px; overflow-y: auto; padding-top: 10px; display: flex; flex-direction: column; gap: 8px;">
                    <p style="text-align: center; color: var(--text-color-muted);">–ó–∞–≥—Ä—É–∑–∫–∞ –∂—É—Ä–Ω–∞–ª–∞...</p>
                </div>
            </div>
        </div>

            <div class="quest-card" style="margin-top: 20px;">
                <div class="user-management-section">
                    <h3><i class="fa-solid fa-snowflake" style="color: #5ac8fa;"></i> –ó–∞–º–æ—Ä–æ–∑–∫–∞ / –†–∞–∑–º–æ—Ä–æ–∑–∫–∞</h3>
                     <div class="admin-form">
                        <label>–ó–≤–µ–∑–¥—ã –ß–µ–∫–ø–æ–∏–Ω—Ç–∞<div class="tooltip">?<span class="tooltip-text">–í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—Ä–µ—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ç—Ä–∞—Ç–∏—Ç—å –∑–≤—ë–∑–¥—ã –ß–µ–∫–ø–æ–∏–Ω—Ç–∞. 0 –¥–Ω–µ–π = —Ä–∞–∑–º–æ—Ä–æ–∑–∫–∞.</span></div></label>
                        <form id="freeze-checkpoint-stars-form" class="hidden admin-sub-form">
                            <p>–î–ª—è: <strong id="freeze-cp-user-name">...</strong></p>
                            <input type="hidden" name="user_id_to_freeze_cp">
                            <input type="number" name="days_cp" required placeholder="–ö–æ–ª-–≤–æ –¥–Ω–µ–π (0 –¥–ª—è —Ä–∞–∑–º–æ—Ä–æ–∑–∫–∏)">
                            <button type="submit">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                        </form>
                        <button id="open-freeze-cp-search" class="admin-menu-button">
                            <i class="fa-solid fa-search"></i> –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                        </button>
                    </div>
                    <div class="admin-form" style="margin-top: 20px;">
                        <label>–ë–∏–ª–µ—Ç—ã<div class="tooltip">?<span class="tooltip-text">–í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—Ä–µ—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–∞—Ö. 0 –¥–Ω–µ–π = —Ä–∞–∑–º–æ—Ä–æ–∑–∫–∞.</span></div></label>
                        <form id="freeze-tickets-form" class="hidden admin-sub-form">
                            <p>–î–ª—è: <strong id="freeze-tickets-user-name">...</strong></p>
                            <input type="hidden" name="user_id_to_freeze_tickets">
                            <input type="number" name="days_tickets" required placeholder="–ö–æ–ª-–≤–æ –¥–Ω–µ–π (0 –¥–ª—è —Ä–∞–∑–º–æ—Ä–æ–∑–∫–∏)">
                            <button type="submit">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                        </form>
                        <button id="open-freeze-tickets-search" class="admin-menu-button">
                            <i class="fa-solid fa-search"></i> –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                        </button>
                    </div>
                </div>
            </div>

            <div class="quest-card" style="margin-top: 20px;">
                <div class="user-management-section">
                    <h3><i class="fa-solid fa-bolt" style="color: var(--warning-color);"></i> –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</h3>
                    <div class="admin-form">
                        <label>–í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–≤–µ—Å—Ç/—á–µ–ª–ª–µ–Ω–¥–∂<div class="tooltip">?<span class="tooltip-text">–û–±—Ö–æ–¥–∏—Ç –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ø–æ–º–µ—á–∞–µ—Ç –∫–≤–µ—Å—Ç –∏–ª–∏ —á–µ–ª–ª–µ–Ω–¥–∂ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –û–Ω —Å–º–æ–∂–µ—Ç –∑–∞–±—Ä–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É.</span></div></label>
                         <button id="open-force-complete-search" class="admin-menu-button">
                             <i class="fa-solid fa-search"></i> –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                         </button>
                         </div>
                </div>
            </div>

            <div class="quest-card" style="margin-top: 20px;">
                 <div class="user-management-section">
                    <h3 style="color: var(--danger-color);"><i class="fa-solid fa-broom"></i> –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–ß–µ–∫–ø–æ–∏–Ω—Ç)</h3>
                    <div class="admin-form">
                        <label>–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—ã –ß–µ–∫–ø–æ–∏–Ω—Ç–∞<div class="tooltip">?<span class="tooltip-text">–£–¥–∞–ª—è–µ—Ç –≤—Å–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã –ß–µ–∫–ø–æ–∏–Ω—Ç–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–æ –ù–ï –¢–†–û–ì–ê–ï–¢ –±–∞–ª–∞–Ω—Å –∑–≤—ë–∑–¥. –î–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.</span></div></label>
                        <form id="reset-checkpoint-progress-form" class="hidden admin-sub-form">
                             <p>–î–ª—è: <strong id="reset-cp-progress-user-name">...</strong></p>
                             <input type="hidden" name="user_id_to_reset">
                             <button type="submit" class="admin-action-btn reject" style="width: 100%;">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–±—Ä–æ—Å –Ω–∞–≥—Ä–∞–¥</button>
                        </form>
                        <button id="open-reset-cp-progress-search" class="admin-menu-button">
                             <i class="fa-solid fa-search"></i> –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                        </button>
                    </div>
                    <div class="admin-form" style="margin-top: 20px;">
                        <label>–û–±–Ω—É–ª–∏—Ç—å –∑–≤—ë–∑–¥—ã –ß–µ–∫–ø–æ–∏–Ω—Ç–∞<div class="tooltip">?<span class="tooltip-text">–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–∞–ª–∞–Ω—Å –∑–≤—ë–∑–¥ –ß–µ–∫–ø–æ–∏–Ω—Ç–∞ –Ω–∞ 0, –Ω–æ –ù–ï –¢–†–û–ì–ê–ï–¢ —Å–ø–∏—Å–æ–∫ –Ω–∞–≥—Ä–∞–¥. –î–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.</span></div></label>
                        <form id="clear-checkpoint-stars-form" class="hidden admin-sub-form">
                             <p>–î–ª—è: <strong id="clear-cp-stars-user-name">...</strong></p>
                             <input type="hidden" name="user_id_to_clear">
                             <button type="submit" class="admin-action-btn reject" style="width: 100%;">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–±–Ω—É–ª–µ–Ω–∏–µ –∑–≤—ë–∑–¥</button>
                        </form>
                         <button id="open-clear-cp-stars-search" class="admin-menu-button">
                             <i class="fa-solid fa-search"></i> –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                         </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-admin-pending-actions" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–û–∂–∏–¥–∞—é—Ç –¥–µ–π—Å—Ç–≤–∏—è</h1>
                
                <button id="reload-pending-actions-btn" class="back-button" style="width: 60px; font-size: 18px; text-align: right; padding-right: 5px;">
                    <i class="fa-solid fa-rotate-right"></i>
                </button>
            </div>
            <div class="tabs-container">
                <button class="tab-button active" data-tab="submissions"><i class="fa-solid fa-user-check"></i> –ü—Ä–æ–≤–µ—Ä–∫–∏</button>
                <button class="tab-button" data-tab="event-prizes"><i class="fa-solid fa-trophy"></i> –†–æ–∑—ã–≥—Ä—ã—à–∏</button>
                <button class="tab-button" data-tab="checkpoint-prizes"><i class="fa-solid fa-flag-checkered"></i> –ß–µ–∫–ø–æ–∏–Ω—Ç</button>
            </div>
            <div id="tab-content-submissions" class="tab-content active">
                <div class="pending-actions-grid">
                    </div>
            </div>
            <div id="tab-content-event-prizes" class="tab-content hidden">
                 <div class="pending-actions-grid">
                    </div>
            </div>
            <div id="tab-content-checkpoint-prizes" class="tab-content hidden">
                 <div class="pending-actions-grid">
                    </div>
            </div>
        </div>

        <div id="view-admin-settings" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
                <div style="width: 60px;"></div>
            </div>
            <div class="quest-card">
                <div class="settings-group">
                    <h3>–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</h3>
                    <div class="admin-form" style="gap: 20px;">
                        <div>
                            <label for="setting-menu-banner-url">URL –±–∞–Ω–Ω–µ—Ä–∞ "–ì–æ–Ω–∫–∞ –∑–∞ —Å–∫–∏–Ω–∞–º–∏"</label>
                            <input type="text" id="setting-menu-banner-url" placeholder="https://example.com/banner.png">
                        </div>
                        <div>
                            <label for="setting-checkpoint-banner-url">URL –±–∞–Ω–Ω–µ—Ä–∞ "–ú–∞—Ä–∞—Ñ–æ–Ω –ß–µ–∫–ø–æ–∏–Ω—Ç"</label>
                            <input type="text" id="setting-checkpoint-banner-url" placeholder="https://example.com/banner2.png">
                        </div>
                        <div>
                            <label for="setting-auction-banner-url">URL –±–∞–Ω–Ω–µ—Ä–∞ "–ê—É–∫—Ü–∏–æ–Ω"</label>
                            <input type="text" id="setting-auction-banner-url" placeholder="https://example.com/auction.png">
                        </div>
                      <div>
                            <label for="setting-weekly-goals-banner-url">URL –±–∞–Ω–Ω–µ—Ä–∞ "–ù–µ–¥–µ–ª—å–Ω—ã–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è"</label>
                            <input type="text" id="setting-weekly-goals-banner-url" placeholder="https://example.com/weekly.png">
                        </div>
                    </div>
                </div>
            </div>
            <div class="quest-card" style="margin-top: 20px;">
                <div class="settings-group">
                    <h3>–ü–æ—Ä—è–¥–æ–∫ —Å–ª–∞–π–¥–æ–≤ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π</h3>
                    <div id="slider-order-manager">
                        <p style="font-size: 12px; color: var(--text-color-muted);">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                    </div>
                </div>
            </div>
            <div class="quest-card" style="margin-top: 20px;">
                <div class="settings-group">
                    <h3>–°–∏—Å—Ç–µ–º—ã</h3>
                    <div class="setting-item">
                        <span class="setting-label">–ì–æ–Ω–∫–∞ –∑–∞ —Å–∫–∏–Ω–∞–º–∏</span>
                        <label class="toggle-switch"><input type="checkbox" id="setting-skin-race-enabled"><span class="toggle-slider"></span></label>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">–°–∏—Å—Ç–µ–º–∞ –ê—É–∫—Ü–∏–æ–Ω–∞</span>
                        <label class="toggle-switch"><input type="checkbox" id="setting-auction-enabled"><span class="toggle-slider"></span></label>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label">–°–∏—Å—Ç–µ–º–∞ –ó–∞–¥–∞–Ω–∏–π</span>
                        <label class="toggle-switch"><input type="checkbox" id="setting-quests-enabled"><span class="toggle-slider"></span></label>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label">–°–∏—Å—Ç–µ–º–∞ –ß–µ–ª–ª–µ–Ω–¥–∂–µ–π</span>
                        <label class="toggle-switch"><input type="checkbox" id="setting-challenges-enabled"><span class="toggle-slider"></span></label>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label">–°–∏—Å—Ç–µ–º–∞ –ß–µ–∫–ø–æ–∏–Ω—Ç–∞</span>
                        <label class="toggle-switch"><input type="checkbox" id="setting-checkpoint-enabled"><span class="toggle-slider"></span></label>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label">–ù–µ–¥–µ–ª—å–Ω—ã–π –ó–∞–±–µ–≥</span>
                        <label class="toggle-switch"><input type="checkbox" id="setting-weekly-goals-enabled"><span class="toggle-slider"></span></label>
                    </div>
                </div>
            </div>
            <div class="quest-card" style="margin-top: 20px;">
                <div class="settings-group">
                    <h3>–ù–∞–≥—Ä–∞–¥—ã</h3>
                    <div class="setting-item">
                        <span class="setting-label">–ù–∞–≥—Ä–∞–¥—ã –∑–∞ –ó–∞–¥–∞–Ω–∏—è</span>
                        <label class="toggle-switch"><input type="checkbox" id="setting-quest-rewards-enabled"><span class="toggle-slider"></span></label>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label">–ù–∞–≥—Ä–∞–¥—ã –∑–∞ –ß–µ–ª–ª–µ–Ω–¥–∂–∏</span>
                        <label class="toggle-switch"><input type="checkbox" id="setting-challenge-rewards-enabled"><span class="toggle-slider"></span></label>
                    </div>
                </div>
            </div>
             <div class="quest-card" style="margin-top: 20px;">
                <div class="settings-group">
                    <button id="save-settings-btn" class="admin-action-btn approve" style="width: 100%;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>
            </div>
             <div class="quest-card" style="margin-top: 20px;">
                <div class="settings-group">
                    <h3>–û–ø–∞—Å–Ω–æ</h3>
                    <div class="admin-form" style="gap: 10px;">
                        <button id="reset-all-quests-btn" class="admin-action-btn reject" style="width: 100%;">–°–±—Ä–æ—Å–∏—Ç—å –∫–≤–µ—Å—Ç—ã —É –≤—Å–µ—Ö</button>
                        <button id="reset-all-checkpoint-progress-btn" class="admin-action-btn reject" style="width: 100%;">–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—ã –ß–µ–∫–ø–æ–∏–Ω—Ç–∞ —É –≤—Å–µ—Ö</button>
                        <button id="clear-all-checkpoint-stars-btn" class="admin-action-btn reject" style="width: 100%;">–û–±–Ω—É–ª–∏—Ç—å –∑–≤—ë–∑–¥—ã –ß–µ–∫–ø–æ–∏–Ω—Ç–∞ —É –≤—Å–µ—Ö</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-admin-categories" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h1>
                <div style="width: 60px;"></div>
            </div>
            <div class="quest-card">
                <form id="create-category-form" class="admin-form">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</label>
                    <input type="text" name="name" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, '–°–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è'">
                    <button type="submit">–°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
                </form>
            </div>
             <div id="categories-list" class="quests-container" style="margin-top: 20px;"></div>
        </div>

        <div id="view-admin-challenges" class="view hidden">
             <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–ß–µ–ª–ª–µ–Ω–¥–∂–∏</h1>
                <button id="go-create-challenge" class="admin-menu-button" style="width: auto; padding: 8px 12px; font-size: 14px;">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
            <div id="challenges-list" class="quests-container"></div>
        </div>

        <div id="view-admin-challenge-form" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-challenges"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 id="challenge-form-title" class="page-header-title">–ù–æ–≤—ã–π —á–µ–ª–ª–µ–Ω–¥–∂</h1>
                <div style="width: 60px;"></div>
            </div>
            <div class="quest-card">
                <form id="challenge-form" class="admin-form">
                    <input type="hidden" name="challenge_id">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea name="description" rows="3" required></textarea>
                    <label>–¢–∏–ø —É—Å–ª–æ–≤–∏—è</label>
                    <select name="condition_type" required>
                        <option value="telegram_messages">–°–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram</option>
                        <option value="twitch_points">–†–∞–Ω–≥/PTS –≤ Twitch</option>
                        <option value="twitch_messages">–°–æ–æ–±—â–µ–Ω–∏—è Twitch</option>
                        <option value="twitch_uptime">Twitch (–≤—Ä–µ–º—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)</option>
                    </select>
                    <div class="challenge-period-wrapper hidden">
                        <label>–ü–µ—Ä–∏–æ–¥</label>
                        <select name="challenge_period">
                           <option value="session">–°–µ—Å—Å–∏—è</option>
                           <option value="week">–ù–µ–¥–µ–ª—è</option>
                           <option value="month">–ú–µ—Å—è—Ü</option>
                        </select>
                    </div>
                    <label>–¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</label>
                    <input type="number" name="target_value" required>
                    <label>–ù–∞–≥—Ä–∞–¥–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤—ë–∑–¥)</label>
                    <input type="number" name="reward_amount" required>
                    <label>–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≤ —á–∞—Å–∞—Ö)</label>
                    <input type="number" name="duration_days" value="16" required>
                    <label>–°—Ç–∞—Ç—É—Å</label>
                    <select name="is_active">
                        <option value="true">–ê–∫—Ç–∏–≤–µ–Ω</option>
                        <option value="false">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</option>
                    </select>
                    <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </form>
            </div>
        </div>

        <div id="view-admin-quests" class="view hidden">
             <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–ó–∞–¥–∞–Ω–∏—è</h1>
                <button id="go-create-quest" class="admin-menu-button" style="width: auto; padding: 8px 12px; font-size: 14px;">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
            <div id="quests-list" class="quests-container"></div>
        </div>
                <button id="save-order-button" class="admin-action-btn approve hidden" style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 100; width: auto; padding: 10px 20px;">
            <i class="fa-solid fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫</button>

        <div id="view-admin-promocodes" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–ü—Ä–æ–º–æ–∫–æ–¥—ã</h1>
                <div style="width: 60px;"></div>
            </div>
            <div class="quest-card">
                <form id="add-promocodes-form" class="admin-form">
                    <label>–°–ø–∏—Å–æ–∫ –∫–æ–¥–æ–≤ (–∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏)</label>
                    <textarea name="codes" rows="6" required></textarea>
                    <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤—ë–∑–¥</label>
                    <input type="number" name="reward_value" required>
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥—ã</label>
                    <input type="text" name="description" required>
                    <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
                </form>
            </div>
        </div>

        <div id="view-admin-create" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-quests"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ</h1>
                <div style="width: 60px;"></div>
            </div>
            <div class="quest-card">
                <form id="create-quest-form" class="admin-form">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" name="title" required>
                    <label>URL –∏–∫–æ–Ω–∫–∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)</label>
                    <input type="text" name="icon_url">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea name="description" rows="3"></textarea>
                    <label>–ù–∞–≥—Ä–∞–¥–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤—ë–∑–¥)</label>
                    <input type="number" name="reward_amount" required>
                    <label>–¢–∏–ø –∫–≤–µ—Å—Ç–∞</label>
                    <select name="quest_type">
                        <option value="manual_check">–†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</option>
                        <option value="automatic_telegram_messages">Telegram (—Å–æ–æ–±—â–µ–Ω–∏—è)</option>
                        <option value="automatic_twitch_points">Twitch (—Ä–∞–Ω–≥/PTS)</option>
                        <option value="automatic_twitch_messages">Twitch (—Å–æ–æ–±—â–µ–Ω–∏—è)</option>
                        <option value="automatic_twitch_uptime">Twitch (–≤—Ä–µ–º—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)</option>
                    </select>
                    <div class="manual-options-wrapper">
                        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è (–¥–ª—è —Ä—É—á–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π)</label>
                        <select name="category_id"><option value="">–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option></select>
                        <label>–†–µ–∂–∏–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–ª—è —Ä—É—á–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π)</label>
                        <select name="is_repeatable">
                            <option value="false">–û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ</option>
                            <option value="true">–ú–Ω–æ–≥–æ—Ä–∞–∑–æ–≤–æ–µ</option>
                        </select>
                        <label>URL –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ (–¥–ª—è —Ä—É—á–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π)</label>
                        <input type="text" name="action_url" placeholder="https://tiktok.com/...">
                    </div>
                    <div class="automatic-options-wrapper hidden">
                        <div class="twitch-period-wrapper hidden">
                            <label>–ü–µ—Ä–∏–æ–¥</label>
                            <select name="twitch_period">
                               <option value="session">–°–µ—Å—Å–∏—è</option>
                               <option value="week">–ù–µ–¥–µ–ª—è</option>
                               <option value="month">–ú–µ—Å—è—Ü</option>
                            </select>
                        </div>
                        <label>–¶–µ–ª—å (–¥–ª—è –∞–≤—Ç–æ-–∫–≤–µ—Å—Ç–æ–≤)</label>
                        <input type="number" name="target_value">
                    </div>
                    <label>–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≤ —á–∞—Å–∞—Ö, 0 - –±–µ—Å—Å—Ä–æ—á–Ω–æ)</label>
                    <input type="number" name="duration_hours" value="0">
                    <label>–°—Ç–∞—Ç—É—Å</label>
                    <select name="is_active">
                        <option value="true">–ê–∫—Ç–∏–≤–µ–Ω</option>
                        <option value="false">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</option>
                    </select>
                    <button type="submit">–°–æ–∑–¥–∞—Ç—å</button>
                </form>
            </div>
        </div>

        <div id="view-admin-edit" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-quests"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h1>
                <div style="width: 60px;"></div>
            </div>
            <div class="quest-card">
                <form id="edit-quest-form" class="admin-form">
                    <input type="hidden" name="quest_id">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" name="title" required>
                    <label>URL –∏–∫–æ–Ω–∫–∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)</label>
                    <input type="text" name="icon_url">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea name="description" rows="3"></textarea>
                    <label>–ù–∞–≥—Ä–∞–¥–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤—ë–∑–¥)</label>
                    <input type="number" name="reward_amount" required>
                    <label>–¢–∏–ø –∫–≤–µ—Å—Ç–∞</label>
                    <select name="quest_type">
                        <option value="manual_check">–†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</option>
                        <option value="automatic_telegram_messages">Telegram (—Å–æ–æ–±—â–µ–Ω–∏—è)</option>
                        <option value="automatic_twitch_points">Twitch (—Ä–∞–Ω–≥/PTS)</option>
                        <option value="automatic_twitch_messages">Twitch (—Å–æ–æ–±—â–µ–Ω–∏—è)</option>
                        <option value="automatic_twitch_uptime">Twitch (–≤—Ä–µ–º—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)</option>
                    </select>
                    <div class="manual-options-wrapper">
                        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è (–¥–ª—è —Ä—É—á–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π)</label>
                        <select name="category_id"><option value="">–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option></select>
                        <label>–†–µ–∂–∏–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–ª—è —Ä—É—á–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π)</label>
                        <select name="is_repeatable">
                            <option value="false">–û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ</option>
                            <option value="true">–ú–Ω–æ–≥–æ—Ä–∞–∑–æ–≤–æ–µ</option>
                        </select>
                        <label>URL –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ (–¥–ª—è —Ä—É—á–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π)</label>
                        <input type="text" name="action_url" placeholder="https://tiktok.com/...">
                    </div>
                     <div class="automatic-options-wrapper hidden">
                        <div class="twitch-period-wrapper hidden">
                            <label>–ü–µ—Ä–∏–æ–¥</label>
                            <select name="twitch_period">
                               <option value="session">–°–µ—Å—Å–∏—è</option>
                               <option value="week">–ù–µ–¥–µ–ª—è</option>
                               <option value="month">–ú–µ—Å—è—Ü</option>
                            </select>
                        </div>
                        <label>–¶–µ–ª—å (–¥–ª—è –∞–≤—Ç–æ-–∫–≤–µ—Å—Ç–æ–≤)</label>
                        <input type="number" name="target_value">
                    </div>
                    <label>–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≤ —á–∞—Å–∞—Ö, 0 - –±–µ—Å—Å—Ä–æ—á–Ω–æ)</label>
                    <input type="number" name="duration_hours" value="0">
                    <label>–°—Ç–∞—Ç—É—Å</label>
                    <select name="is_active">
                        <option value="true">–ê–∫—Ç–∏–≤–µ–Ω</option>
                        <option value="false">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</option>
                    </select>
                    <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </form>
            </div>
        </div>

        <div id="view-admin-statistics" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>
                <div style="width: 60px;"></div>
            </div>
            <div id="statistics-content">
                <h2 style="font-size: 20px; margin-bottom: 15px;">–°–∫–ª–∞–¥ –†—É–ª–µ—Ç–æ–∫ üì¶</h2>
                 <div class="stats-grid">
                    <div class="stat-card">
                         <div class="stat-card-header">
                            <h4>–í—Å–µ–≥–æ —Å–∫–∏–Ω–æ–≤ –≤ –Ω–∞–ª–∏—á–∏–∏</h4>
                            <div class="tooltip">?<span class="tooltip-text">–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å–µ—Ö —Å–∫–∏–Ω–æ–≤, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è –≤—ã–ø–∞–¥–µ–Ω–∏—è –≤–æ –≤—Å–µ—Ö —Ä—É–ª–µ—Ç–∫–∞—Ö.</span></div>
                        </div>
                        <p id="stat-total-stock">0</p>
                    </div>
                     <div class="stat-card">
                         <div class="stat-card-header">
                            <h4>–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</h4>
                            <div class="tooltip">?<span class="tooltip-text">–°–∫–æ—Ä–æ... –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å—É–º–º–∞—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö —Å–∫–∏–Ω–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ.</span></div>
                        </div>
                        <p>–°–∫–æ—Ä–æ...</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-admin-twitch-rewards" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">Twitch –Ω–∞–≥—Ä–∞–¥—ã</h1>
                <button id="reload-twitch-rewards-btn" class="back-button" style="width: 60px; font-size: 18px; text-align: right; padding-right: 5px;">
                    <i class="fa-solid fa-rotate-right"></i>
                </button>
                </div>
            <div id="twitch-rewards-container" class="pending-actions-grid" style="padding: 10px 0;">
                </div>
        </div>

        <div id="view-admin-roulette" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–ü—Ä–∏–∑—ã –¥–ª—è —Ä—É–ª–µ—Ç–æ–∫</h1>
                <div style="width: 60px;"></div>
            </div>
            <div class="quest-card">
                <form id="create-roulette-prize-form" class="admin-form">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ Twitch –Ω–∞–≥—Ä–∞–¥—ã (—Ç—Ä–∏–≥–≥–µ—Ä)</label>
                    <input type="text" name="reward_title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö—Ä—É—Ç–∏—Ç—å —Ä—É–ª–µ—Ç–∫—É">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–∏–Ω–∞</label>
                    <input type="text" name="skin_name" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: AWP | Asiimov">
                    <label>URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Å–∫–∏–Ω–∞</label>
                    <input type="text" name="image_url" required placeholder="https:// ... .png">
                    <label>–í–µ—Å —à–∞–Ω—Å–∞<div class="tooltip">?<span class="tooltip-text">–ß–µ–º –≤—ã—à–µ —á–∏—Å–ª–æ, —Ç–µ–º –≤—ã—à–µ —à–∞–Ω—Å. –ï—Å–ª–∏ —É –æ–¥–Ω–æ–≥–æ —Å–∫–∏–Ω–∞ –≤–µ—Å 90, –∞ —É –¥—Ä—É–≥–æ–≥–æ 10, —Ç–æ –∏—Ö —à–∞–Ω—Å—ã –±—É–¥—É—Ç 90% –∏ 10%.</span></div></label>
                    <input type="number" name="chance_weight" required value="10">
                    <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –Ω–∞–ª–∏—á–∏–∏</label>
                    <input type="number" name="quantity" required value="0" min="0">
                    <button type="submit">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–∑</button>
                </form>
            </div>
            <div id="roulette-prizes-list" class="quests-container" style="margin-top: 20px;"></div>
        </div>

        <div id="view-admin-cauldron" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–ò–≤–µ–Ω—Ç "–ö–æ—Ç–µ–ª"</h1>
                <div style="width: 60px;"></div>
            </div>

            <div class="tabs-container" id="cauldron-tabs">
                <button class="tab-button active" data-tab="cauldron-settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                <button class="tab-button" data-tab="cauldron-rewards-1">–ù–∞–≥—Ä–∞–¥—ã –£—Ä. 1</button>
                <button class="tab-button" data-tab="cauldron-rewards-2">–ù–∞–≥—Ä–∞–¥—ã –£—Ä. 2</button>
                <button class="tab-button" data-tab="cauldron-rewards-3">–ù–∞–≥—Ä–∞–¥—ã –£—Ä. 3</button>
                <button class="tab-button" data-tab="cauldron-rewards-4">–ù–∞–≥—Ä–∞–¥—ã –£—Ä. 4</button>
                <button class="tab-button" data-tab="cauldron-distribution">–£—á–∞—Å—Ç–Ω–∏–∫–∏</button>
            </div>

            <form id="cauldron-settings-form">
                <div id="tab-content-cauldron-settings" class="tab-content active">
                    <div class="quest-card">
                        <div class="admin-form">
                            <div class="setting-item" style="padding: 0; border: none;">
                                <span class="setting-label">–ò–≤–µ–Ω—Ç –∞–∫—Ç–∏–≤–µ–Ω (–≤–∏–¥–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º)</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" name="is_visible_to_users">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≤–µ–Ω—Ç–∞</label>
                            <input type="text" name="title" required placeholder="–í–µ–¥—å–º–∏–Ω—Å–∫–∏–π –∫–æ—Ç–µ–ª">

                            <label>–¶–µ–ª—å –£—Ä–æ–≤–Ω—è 1</label>
                            <input type="number" name="goal_level_1" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1000">

                            <label>–¶–µ–ª—å –£—Ä–æ–≤–Ω—è 2</label>
                            <input type="number" name="goal_level_2" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 3000">

                            <label>–¶–µ–ª—å –£—Ä–æ–≤–Ω—è 3</label>
                            <input type="number" name="goal_level_3" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 5000">

                            <label>–¶–µ–ª—å –£—Ä–æ–≤–Ω—è 4 (—Ñ–∏–Ω–∞–ª)</label>
                            <input type="number" name="goal_level_4" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 10000">

                            <label>URL –±–∞–Ω–Ω–µ—Ä–∞ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π</label>
                            <input type="text" name="banner_image_url" placeholder="https://....png">

                            <label>URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ö–æ—Ç–ª–∞ (–£—Ä–æ–≤–µ–Ω—å 1)</label>
                            <input type="text" name="cauldron_image_url_1" placeholder="https://....png">

                            <label>URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ö–æ—Ç–ª–∞ (–£—Ä–æ–≤–µ–Ω—å 2)</label>
                            <input type="text" name="cauldron_image_url_2" placeholder="https://....png">

                            <label>URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ö–æ—Ç–ª–∞ (–£—Ä–æ–≤–µ–Ω—å 3)</label>
                            <input type="text" name="cauldron_image_url_3" placeholder="https://....png">

                            <label>URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ö–æ—Ç–ª–∞ (–£—Ä–æ–≤–µ–Ω—å 4)</label>
                            <input type="text" name="cauldron_image_url_4" placeholder="https://....png">
                        </div>
                    </div>
                     <div class="quest-card" style="margin-top: 20px;">
                        <h3 style="margin-top: 0;">–û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞</h3>
                        <button id="reset-cauldron-btn" type="button" class="admin-action-btn reject" style="width: 100%;">–°–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
                    </div>
                </div>

                <div id="tab-content-cauldron-rewards-1" class="tab-content hidden">
                    <div class="quest-card">
                        <h3 style="margin-top:0;">–ù–∞–≥—Ä–∞–¥—ã –¥–ª—è –¢–æ–ø-20 (–£—Ä–æ–≤–µ–Ω—å 1)</h3>
                        <div id="top-rewards-container-1"></div>
                        <button type="button" id="add-top-reward-btn-1" data-level="1" class="admin-action-btn" style="background-color: var(--action-color); width: 100%; margin-top: 15px;">
                            <i class="fa-solid fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É –∑–∞ –º–µ—Å—Ç–æ
                        </button>
                    </div>
                    <div class="quest-card" style="margin-top: 15px;">
                        <h3 style="margin-top:0;">–ù–∞–≥—Ä–∞–¥–∞ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö (–£—Ä–æ–≤–µ–Ω—å 1)</h3>
                        <div class="admin-form">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞</label>
                            <input type="text" name="default_reward_name_1" placeholder="Glock-18 | Fade">
                            <label>URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                            <input type="text" name="default_reward_image_url_1" placeholder="https://....png">
                        </div>
                    </div>
                </div>

                <div id="tab-content-cauldron-rewards-2" class="tab-content hidden">
                    <div class="quest-card">
                        <h3 style="margin-top:0;">–ù–∞–≥—Ä–∞–¥—ã –¥–ª—è –¢–æ–ø-20 (–£—Ä–æ–≤–µ–Ω—å 2)</h3>
                        <div id="top-rewards-container-2"></div>
                        <button type="button" id="add-top-reward-btn-2" data-level="2" class="admin-action-btn" style="background-color: var(--action-color); width: 100%; margin-top: 15px;">
                            <i class="fa-solid fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É –∑–∞ –º–µ—Å—Ç–æ
                        </button>
                    </div>
                    <div class="quest-card" style="margin-top: 15px;">
                        <h3 style="margin-top:0;">–ù–∞–≥—Ä–∞–¥–∞ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö (–£—Ä–æ–≤–µ–Ω—å 2)</h3>
                        <div class="admin-form">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞</label>
                            <input type="text" name="default_reward_name_2" placeholder="AK-47 | Redline">
                            <label>URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                            <input type="text" name="default_reward_image_url_2" placeholder="https://....png">
                        </div>
                    </div>
                </div>

                <div id="tab-content-cauldron-rewards-3" class="tab-content hidden">
                    <div class="quest-card">
                        <h3 style="margin-top:0;">–ù–∞–≥—Ä–∞–¥—ã –¥–ª—è –¢–æ–ø-20 (–£—Ä–æ–≤–µ–Ω—å 3)</h3>
                        <div id="top-rewards-container-3"></div>
                        <button type="button" id="add-top-reward-btn-3" data-level="3" class="admin-action-btn" style="background-color: var(--action-color); width: 100%; margin-top: 15px;">
                            <i class="fa-solid fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É –∑–∞ –º–µ—Å—Ç–æ
                        </button>
                    </div>
                    <div class="quest-card" style="margin-top: 15px;">
                        <h3 style="margin-top:0;">–ù–∞–≥—Ä–∞–¥–∞ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö (–£—Ä–æ–≤–µ–Ω—å 3)</h3>
                        <div class="admin-form">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞</label>
                            <input type="text" name="default_reward_name_3" placeholder="AWP | Dragon Lore">
                            <label>URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                            <input type="text" name="default_reward_image_url_3" placeholder="https://....png">
                        </div>
                    </div>
                </div>

                <div id="tab-content-cauldron-rewards-4" class="tab-content hidden">
                    <div class="quest-card">
                        <h3 style="margin-top:0;">–ù–∞–≥—Ä–∞–¥—ã –¥–ª—è –¢–æ–ø-20 (–£—Ä–æ–≤–µ–Ω—å 4)</h3>
                        <div id="top-rewards-container-4"></div>
                        <button type="button" id="add-top-reward-btn-4" data-level="4" class="admin-action-btn" style="background-color: var(--action-color); width: 100%; margin-top: 15px;">
                            <i class="fa-solid fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É –∑–∞ –º–µ—Å—Ç–æ
                        </button>
                    </div>
                    <div class="quest-card" style="margin-top: 15px;">
                        <h3 style="margin-top:0;">–ù–∞–≥—Ä–∞–¥–∞ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö (–£—Ä–æ–≤–µ–Ω—å 4)</h3>
                        <div class="admin-form">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞</label>
                            <input type="text" name="default_reward_name_4" placeholder="Butterfly Knife | Fade">
                            <label>URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                            <input type="text" name="default_reward_image_url_4" placeholder="https://....png">
                        </div>
                    </div>
                </div>

                <div id="tab-content-cauldron-distribution" class="tab-content hidden">
                    <div class="quest-card">
                        <h3 style="margin: 0 0 15px;">–í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ –≤–∫–ª–∞–¥—É</h3>
                        <div id="cauldron-distribution-list">
                            <p style="text-align: center; color: var(--text-color-muted);">–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤...</p>
                        </div>
                    </div>
                </div>

                <div class="quest-card" style="margin-top: 20px;">
                    <button type="submit" class="admin-action-btn approve" style="width: 100%;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>
            </form>
        </div>

        <div id="view-admin-auctions" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–ê—É–∫—Ü–∏–æ–Ω—ã</h1>
                <div style="width: 60px;"></div>
            </div>
    
            <div class="quest-card">
                <form id="create-auction-form" class="admin-form">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ª–æ—Ç–∞</label>
                    <input type="text" name="title" required placeholder="–ù–∞–ø—Ä: AWP | Dragon Lore">
                    <label>URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                    <input type="text" name="image_url" placeholder="https://...">
                    <label>–¢–∞–π–º–µ—Ä –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ (—á–∞—Å—ã)</label>
                    <input type="number" name="bid_cooldown_hours" value="4" required min="1">
                    <button type="submit">–°–æ–∑–¥–∞—Ç—å –ª–æ—Ç</button>
                </form>
            </div>
        </div>
      
        <div id="view-admin-weekly-goals" class="view hidden">
            <div class="page-header">
                <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
                <h1 class="page-header-title">–ù–µ–¥–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</h1>
                <div style="width: 60px;"></div>
            </div>

            <div class="admin-grid-2-col">
                <div class="quest-card">
                    <form id="weekly-goals-settings-form" class="admin-form">
                        <h3 style="margin: 0 0 10px;">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ù–µ–¥–µ–ª–∏</h3>
                        
                        <div class="setting-item" style="padding: 0; border: none;">
                            <span class="setting-label">‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–µ–Ω–∞</span>
                            <label class="toggle-switch">
                                <input type="checkbox" name="is_enabled">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <label for="weekly-goal-week-id">ID –¢–µ–∫—É—â–µ–π –ù–µ–¥–µ–ª–∏</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="text" name="week_id" id="weekly-goal-week-id" placeholder="2025-W46" style="flex-grow: 1;">
                            <button type="button" id="generate-new-week-id-btn" class="admin-menu-button" style="width: auto; padding: 10px 14px; flex-shrink: 0; background-color: #555;">
                                <i class="fa-solid fa-rotate-right"></i> –ù–æ–≤–∞—è
                            </button>
                        </div>
                        
                        <label for="weekly-goal-super-prize-type">–¢–∏–ø –°—É–ø–µ—Ä–ø—Ä–∏–∑–∞</label>
                        <select name="super_prize_type" id="weekly-goal-super-prize-type">
                            <option value="none">–ù–µ—Ç –ø—Ä–∏–∑–∞</option>
                            <option value="tickets">–ë–∏–ª–µ—Ç—ã</option>
                            <option value="promocode_batch">–ü—Ä–æ–º–æ–∫–æ–¥ (–∑–≤–µ–∑–¥—ã)</option>
                        </select>

                        <div id="weekly-goal-super-prize-value-wrapper" class="hidden">
                            <label>–ö–æ–ª-–≤–æ / –ó–≤–µ–∑–¥—ã</label>
                            <input type="number" name="super_prize_value" id="weekly-goal-super-prize-value" placeholder="0">
                        </div>

                        <label for="weekly-goal-super-prize-desc">–û–ø–∏—Å–∞–Ω–∏–µ –°—É–ø–µ—Ä–ø—Ä–∏–∑–∞</label>
                        <input type="text" name="super_prize_description" id="weekly-goal-super-prize-desc" placeholder="–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑!">

                        <button type="button" id="save-weekly-settings-btn" class="admin-action-btn approve" style="margin-top: 10px;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                    </form>
                </div> 

                <div class="quest-card">
                    <div class="user-management-section">
                        <h3 style="color: var(--danger-color); margin: 0 0 15px; padding-bottom: 10px; border-bottom: 1px solid var(--divider-glass-color);"><i class="fa-solid fa-broom"></i> –û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞</h3>

                        <div class="admin-form" style="padding-bottom: 15px; border-bottom: 1px solid var(--divider-glass-color);">
                            <label>–°–±—Ä–æ—Å –¥–ª—è 1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                            <p class="form-hint">–£–¥–∞–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å (0/0) —Ç–æ–ª—å–∫–æ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</p>
                            <form id="admin-reset-user-weekly-progress-form" class="hidden admin-sub-form" style="padding-top: 0; margin-top: 0; border-top: none;">
                                <p>–î–ª—è: <strong id="admin-reset-user-weekly-progress-user-name">...</strong></p>
                                <input type="hidden" name="user_id_to_reset_weekly">
                                <button type="submit" class="admin-action-btn reject" style="width: 100%;">
                                    –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–±—Ä–æ—Å
                                </button>
                            </form>
                            <button id="admin-reset-user-weekly-progress-search-btn" type="button" class="admin-menu-button">
                                <i class="fa-solid fa-search"></i> –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                            </button>
                        </div>

                        <div class="admin-form" style="gap: 10px; margin-top: 15px;">
                            <label>–°–±—Ä–æ—Å –¥–ª—è –í–°–ï–• (–ù–æ–≤–∞—è –Ω–µ–¥–µ–ª—è)</label>
                            <p class="form-hint">–ü–µ—Ä–µ–Ω–æ—Å–∏—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –Ω–æ–≤—ã–π ID –Ω–µ–¥–µ–ª–∏ –∏ –æ—á–∏—â–∞–µ—Ç –í–ï–°–¨ –ø—Ä–æ–≥—Ä–µ—Å—Å.</p>
                            <button id="admin-clear-all-weekly-progress-btn" type="button" class="admin-action-btn reject" style="width: 100%;">
                                –û—á–∏—Å—Ç–∏—Ç—å –í–ï–°–¨ –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–±–µ–≥–∞
                            </button>
                        </div>
                    </div>
                </div>
            </div> <div class="quest-card" style="margin-top: 20px;">
                <button id="open-create-goal-modal-btn" class="admin-action-btn" style="background-color: var(--action-color); width: 100%;">
                    <i class="fa-solid fa-plus"></i> –°–æ–∑–¥–∞—Ç—å –ù–æ–≤—É—é –ó–∞–¥–∞—á—É
                </button>
            </div>

            <div id="weekly-goals-list" class="quests-container" style="margin-top: 20px;">
                </div>
        </div>
      <div id="view-admin-schedule" class="view hidden">
        <div class="page-header">
            <button class="back-button" data-view="view-admin-main"><i class="fa-solid fa-arrow-left"></i> –ù–∞–∑–∞–¥</button>
            <h1 class="page-header-title">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h1>
            <div style="width: 60px;"></div>
        </div>
        <div class="quest-card">
            <form id="quest-schedule-form" class="admin-form">
                <div class="settings-group">
                    <div class="setting-item" style="padding-top: 0; border: none;">
                        <span class="setting-label">–í–∫–ª—é—á–∏—Ç—å —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ<div class="tooltip">?<span class="tooltip-text">–ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≥—Ä–∞—Ñ–∏–∫ (–ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏) –±—É–¥–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.</span></div></span>
                        <label class="toggle-switch"><input type="checkbox" id="setting-quest-schedule-override" name="quest_schedule_override_enabled"><span class="toggle-slider"></span></label>
                    </div>

                    <div id="setting-quest-schedule-type-wrapper" class="admin-form" style="display: none; margin-top: 10px; gap: 10px;">
                        <label for="setting-quest-schedule-type">–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç—å:</label>
                        <select id="setting-quest-schedule-type" name="quest_schedule_active_type">
                            <option value="twitch">Twitch (–∏—Å–ø—ã—Ç–∞–Ω–∏—è –±—É–¥–Ω–µ–≥–æ –¥–Ω—è)</option>
                            <option value="telegram">Telegram (–∏—Å–ø—ã—Ç–∞–Ω–∏—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –¥–Ω—è)</option>
                        </select>
                    </div>

                    <button id="save-schedule-btn" type="submit" class="admin-action-btn approve" style="margin-top: 15px;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
                </div>
            </form>
        </div>
        <div class="quest-card" style="margin-top: 15px; background-color: rgba(0, 122, 255, 0.1);">
            <p style="margin: 0; font-size: 13px; line-height: 1.5; color: var(--text-color-muted);">
                <strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong><br>
                ‚Ä¢ <strong>–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –í–´–ö–õ:</strong> –†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞. Twitch –ø–æ –±—É–¥–Ω—è–º, Telegram –≤ –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –∏ –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫.<br>
                ‚Ä¢ <strong>–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –í–ö–õ:</strong> –ê–≤—Ç–æ–º–∞—Ç–∏–∫–∞ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è. –ë–æ—Ç –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ—Ç —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –≤—ã–±—Ä–∞–ª–∏ –≤ —Å–ø–∏—Å–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Telegram"), –ø–æ–∫–∞ –≤—ã —Å–Ω–æ–≤–∞ –Ω–µ –≤—ã–∫–ª—é—á–∏—Ç–µ —Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º.
            </p>
        </div>
    </div>
        </main>
  
    <div id="weekly-goal-entity-select-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="weekly-goal-entity-select-title" class="modal-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–Ω–æ—Å—Ç—å</h2>
                <button class="modal-close-btn" data-close-modal="weekly-goal-entity-select-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="weekly-goal-entity-select-list">
                    <i>–ó–∞–≥—Ä—É–∑–∫–∞...</i>
                </div>
            </div>
        </div>
    </div>

    <div id="password-prompt-overlay" class="modal-overlay hidden">
        <div class="prompt-modal">
            <h3>–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</h3>
            <input type="password" id="password-prompt-input" class="admin-form" style="margin-top: 15px;">
            <div class="prompt-actions">
                <button id="password-prompt-cancel" class="cancel-btn">–û—Ç–º–µ–Ω–∞</button>
                <button id="password-prompt-confirm" class="confirm-btn">–í–æ–π—Ç–∏</button>
            </div>
        </div>
    </div>
    <div id="submissions-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title" class="modal-title">–ó–∞—è–≤–∫–∏</h2>
                <button id="modal-close-btn" class="modal-close-btn">&times;</button>
            </div>
            <div id="modal-body" class="modal-body"></div>
        </div>
    </div>

    <div id="edit-roulette-prize-modal" class="modal-overlay hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–∑</h2>
                    <button class="modal-close-btn" data-close-modal="edit-roulette-prize-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="edit-roulette-prize-form" class="admin-form">
                        <input type="hidden" name="prize_id">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ Twitch –Ω–∞–≥—Ä–∞–¥—ã (—Ç—Ä–∏–≥–≥–µ—Ä)</label>
                        <input type="text" name="reward_title" required>
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–∏–Ω–∞</label>
                        <input type="text" name="skin_name" required>
                        <label>URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Å–∫–∏–Ω–∞</label>
                        <input type="text" name="image_url" required>
                        <label>–í–µ—Å —à–∞–Ω—Å–∞</label>
                        <input type="number" step="0.1" name="chance_weight" required>
                        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –Ω–∞–ª–∏—á–∏–∏</label>
                        <input type="number" name="quantity" required min="0">
                        <div class="prompt-actions" style="margin-top: 20px;">
                            <button type="button" class="cancel-btn" data-close-modal="edit-roulette-prize-modal">–û—Ç–º–µ–Ω–∞</button>
                            <button type="submit" class="confirm-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    <div id="generic-prompt-overlay" class="modal-overlay hidden">
        <div class="prompt-modal">
            <h3 id="generic-prompt-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</h3>
            <input type="text" id="generic-prompt-input" class="admin-form" style="margin-top: 15px;">
            <div class="prompt-actions">
                <button id="generic-prompt-cancel" class="cancel-btn">–û—Ç–º–µ–Ω–∞</button>
                <button id="generic-prompt-confirm" class="confirm-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>
    <div id="winners-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π</h2>
                <button id="winners-modal-close-btn" class="modal-close-btn">&times;</button>
            </div>
            <div id="winners-modal-body" class="modal-body"></div>
        </div>
    </div>
    <div id="sleep-prompt-overlay" class="modal-overlay hidden">
        <div class="prompt-modal">
            <h3>–£–ª–æ–∂–∏—Ç—å –±–æ—Ç–∞ —Å–ø–∞—Ç—å?</h3>
            <p style="font-size: 14px; color: var(--text-color-muted);">0 = —Å–ø–∞—Ç—å –≤–µ—á–Ω–æ (–¥–æ —Ä—É—á–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è)</p>
            <input type="number" id="sleep-minutes-input" class="admin-form" style="margin-top: 15px;" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω—É—Ç..." value="60">
            <div class="prompt-actions">
                <button id="sleep-prompt-cancel" class="cancel-btn">–û—Ç–º–µ–Ω–∞</button>
                <button id="sleep-prompt-confirm" class="confirm-btn">–£–ª–æ–∂–∏—Ç—å</button>
            </div>
        </div>
    </div>
    <div id="twitch-purchases-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="twitch-purchases-title" class="modal-title">–ü–æ–∫—É–ø–∫–∏ –Ω–∞–≥—Ä–∞–¥—ã</h2>
                <button id="refresh-purchases-btn" title="–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫"><i class="fa-solid fa-rotate-right"></i></button>
                 <button id="delete-all-purchases-btn" class="admin-action-btn reject hidden" style="margin-left: auto; margin-right: 10px; padding: 6px 10px; font-size: 12px;" title="–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø–æ–∫—É–ø–∫–∏ –¥–ª—è —ç—Ç–æ–π –Ω–∞–≥—Ä–∞–¥—ã"><i class="fa-solid fa-trash-can"></i></button>
                <button class="modal-close-btn" data-close-modal="twitch-purchases-modal">&times;</button>
            </div>
            <div id="twitch-purchases-body" class="modal-body"></div>
        </div>
    </div>
    <div id="twitch-reward-settings-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="twitch-settings-title" class="modal-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–≥—Ä–∞–¥—ã</h2>
                <button class="modal-close-btn" data-close-modal="twitch-reward-settings-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="twitch-reward-settings-form" class="admin-form">
                    <input type="hidden" name="reward_id">
                    <div class="setting-item">
                        <span class="setting-label">–ê–∫—Ç–∏–≤–Ω–∞ –≤ –ª–æ–≥–∞—Ö</span>
                        <label class="toggle-switch"><input type="checkbox" name="is_active"><span class="toggle-slider"></span></label>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label">–£–≤–µ–¥–æ–º–ª—è—Ç—å –∞–¥–º–∏–Ω–∞</span>
                        <label class="toggle-switch"><input type="checkbox" name="notify_admin"><span class="toggle-slider"></span></label>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span>
                        <label class="toggle-switch"><input type="checkbox" name="show_user_input"><span class="toggle-slider"></span></label>
                    </div>
                    <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid var(--divider-glass-color);">
                        <label>–£—Å–ª–æ–≤–∏–µ –¥–ª—è –≤—ã–¥–∞—á–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <select name="condition_type">
                            <option value="">–ù–µ—Ç —É—Å–ª–æ–≤–∏—è</option>
                            <option value="twitch_messages_session">–°–æ–æ–±—â–µ–Ω–∏—è Twitch (–∑–∞ —Å—Ç—Ä–∏–º)</option>
                            <option value="twitch_messages_week">–°–æ–æ–±—â–µ–Ω–∏—è Twitch (–∑–∞ –Ω–µ–¥–µ–ª—é)</option>
                            <option value="twitch_messages_month">–°–æ–æ–±—â–µ–Ω–∏—è Twitch (–∑–∞ –º–µ—Å—è—Ü)</option>
                        </select>
                        <input type="number" name="target_value" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 500 (—Å–æ–æ–±—â–µ–Ω–∏–π)" style="margin-top: 10px;">
                    </div>
                    <div style="margin-top: 15px;" id="legacy-promocode-field-wrapper">
                      <label for="promocode-amount-input">–°—É–º–º–∞ –ø—Ä–æ–º–æ–∫–æ–¥–∞ (–∑–≤—ë–∑–¥—ã)</label>
                      <input type="number" id="promocode-amount-input" name="promocode_amount" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 10" required>
                    </div>

                    <div class="admin-feature-6971" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--divider-glass-color);">
                        <label for="reward-type-select">–¢–∏–ø –Ω–∞–≥—Ä–∞–¥—ã</label>
                        <select id="reward-type-select" name="reward_type">
                            <option value="promocode">–ü—Ä–æ–º–æ–∫–æ–¥ (–ó–≤—ë–∑–¥—ã)</option>
                            <option value="tickets">–ë–∏–ª–µ—Ç—ã (–†–æ–∑—ã–≥—Ä—ã—à–∏)</option>
                            <option value="none">–ù–µ—Ç (—Ç–æ–ª—å–∫–æ –ª–æ–≥)</option>
                        </select>
                        <label for="reward-amount-input" style="margin-top: 10px;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</label>
                        <input type="number" id="reward-amount-input" name="reward_amount" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 10" required>
                        
                        <label for="reward-sort-order-input" style="margin-top: 10px;">–ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä (#)</label>
                        <input type="number" id="reward-sort-order-input" name="sort_order" placeholder="–ü—É—Å—Ç–æ = –≤ –∫–æ–Ω–µ—Ü">
                    </div>
                    
                    <div class="prompt-actions" style="margin-top: 20px;">
                        <button type="button" class="cancel-btn" data-close-modal="twitch-reward-settings-modal">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="confirm-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                    <div style="margin-top: 25px; border-top: 1px solid var(--divider-glass-color); padding-top: 15px;">
                        <button type="button" id="delete-twitch-reward-btn" class="admin-action-btn reject" style="width: 100%;">–£–¥–∞–ª–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
  <div id="admin-user-search-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="admin-user-search-title" class="modal-title">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
            <button class="modal-close-btn" data-close-modal="admin-user-search-modal">&times;</button>
        </div>
        <div class="modal-body">
            <form id="admin-user-search-form" class="admin-form" style="gap: 5px;">
                <input type="text" id="admin-user-search-input" placeholder="–í–≤–µ–¥–∏—Ç–µ ID, TG-–Ω–∏–∫ –∏–ª–∏ Twitch-–Ω–∏–∫...">
            </form>
            <div id="admin-user-search-results" style="margin-top: 15px; max-height: 40vh; overflow-y: auto;">
                <p style="text-align: center; color: var(--text-color-muted);">–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –¥–ª—è –ø–æ–∏—Å–∫–∞...</p>
            </div>
        </div>
    </div>
</div>
  <div id="admin-entity-select-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="admin-entity-select-title" class="modal-title">–í—ã–±–µ—Ä–∏—Ç–µ —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å</h2>
                <button class="modal-close-btn" data-close-modal="admin-entity-select-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="tabs-container" style="margin-bottom: 0;">
                    <button class="tab-button active" data-tab="quest">–ö–≤–µ—Å—Ç</button>
                    <button class="tab-button" data-tab="challenge">–ß–µ–ª–ª–µ–Ω–¥–∂</button>
                </div>
                <div id="admin-entity-list-quest" class="tab-content active entity-list-container" style="padding-top: 15px; max-height: 40vh; overflow-y: auto;">
                    <i>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–≤–µ—Å—Ç–æ–≤...</i>
                </div>
                <div id="admin-entity-list-challenge" class="tab-content hidden entity-list-container" style="padding-top: 15px; max-height: 40vh; overflow-y: auto;">
                    <i>–ó–∞–≥—Ä—É–∑–∫–∞ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π...</i>
                </div>
            </div>
        </div>
    </div>
    <div id="admin-promocode-select-modal" class="modal-overlay hidden">
          </div> 
  
    <div id="admin-create-goal-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="admin-create-goal-modal-title" class="modal-title">–ù–æ–≤–∞—è –ó–∞–¥–∞—á–∞</h2>
                <button class="modal-close-btn" data-close-modal="admin-create-goal-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="weekly-goals-create-task-form" class="admin-form">
                    <input type="hidden" name="goal_id" value="">
                    <input type="hidden" name="week_id_hidden_for_edit" id="week_id_hidden_for_edit" value="">
                    
                    <label for="weekly-goal-task-title">–ù–∞–∑–≤–∞–Ω–∏–µ (–≤–∏–¥–∏—Ç —é–∑–µ—Ä)</label>
                    <input type="text" name="title" id="weekly-goal-task-title" required placeholder="–í—ã–ø–æ–ª–Ω–∏—Ç—å 3 —á–µ–ª–ª–µ–Ω–¥–∂–∞">
                    
                    <label for="weekly-goal-task-description">–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ (–ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <textarea name="description" id="weekly-goal-task-description" rows="2" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª –ó–∞–¥–∞–Ω–∏—è..."></textarea>

                    <label for="weekly-goal-task-type">–¢–∏–ø –ó–∞–¥–∞—á–∏ (–¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–∞)</label>
                    <select name="task_type" id="weekly-goal-task-type" required>
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø --</option>
                        <option value="manual_quest_complete">‚úÖ 1. –†—É—á–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–í—ã–±—Ä–∞—Ç—å...)</option>
                        <option value="twitch_purchase">üõçÔ∏è 2. –ü–æ–∫—É–ø–∫–∞ Twitch (–í—ã–±—Ä–∞—Ç—å...)</option>
                        <option value="wizebot_challenge_complete">üèÜ 3. Wizebot –ß–µ–ª–ª–µ–Ω–¥–∂ (–í—ã–±—Ä–∞—Ç—å...)</option>
                        <option value="auction_bid">üî® 4. –°—Ç–∞–≤–∫–∞ –Ω–∞ –ê—É–∫—Ü–∏–æ–Ω–µ (–õ—é–±–∞—è)</option>
                        <option value="cauldron_contribution">üç≤ 5. –í–∫–ª–∞–¥ –≤ "–ö–æ—Ç–µ–ª" (–õ—é–±–æ–π)</option>
                        <option value="stat_twitch_messages_week">üìà (–ü–∞—Å—Å–∏–≤–Ω–æ) –°–æ–æ–±—â–µ–Ω–∏—è Twitch (–ù–µ–¥–µ–ª—è)</option>
                        <option value="stat_twitch_uptime_week">üìà (–ü–∞—Å—Å–∏–≤–Ω–æ) –í—Ä–µ–º—è Twitch (–ù–µ–¥–µ–ª—è)</option>
                        <option value="stat_telegram_messages_week">üìà (–ü–∞—Å—Å–∏–≤–Ω–æ) –°–æ–æ–±—â–µ–Ω–∏—è TG (–ù–µ–¥–µ–ª—è)</option>
                    </select>

                    <div id="weekly-goal-entity-picker-wrapper" class="admin-form hidden" style="gap: 5px; margin-top: -10px; margin-bottom: 10px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px;">
                        <label id="weekly-goal-entity-picker-label">–í—ã–±—Ä–∞–Ω–æ:</label>
                        <input type="hidden" name="target_entity_id" id="weekly-goal-target-entity-id">
                        <input type="hidden" name="target_entity_name" id="weekly-goal-target-entity-name">
                        
                        <div id="weekly-goal-entity-display" class="entity-picker-display">
                            <span>–ù–∏—á–µ–≥–æ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ</span>
                        </div>
                        <button type="button" id="weekly-goal-select-entity-btn" class="admin-menu-button" style="background-color: #555;">–í—ã–±—Ä–∞—Ç—å...</button>
                    </div>
                    
                    <label for="weekly-goal-task-target">–¶–µ–ª—å (—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑)</label>
                    <input type="number" name="target_value" id="weekly-goal-task-target" value="1" min="1" required>
                    
                    <label for="weekly-goal-task-reward-type">–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ù–∞–≥—Ä–∞–¥–∞</label>
                    <select name="reward_type" id="weekly-goal-task-reward-type">
                        <option value="none">–ù–µ—Ç –Ω–∞–≥—Ä–∞–¥—ã</option>
                        <option value="tickets">–ë–∏–ª–µ—Ç—ã</option>
                    </select>
                    
                    <div id="weekly-goal-task-reward-value-wrapper" class="hidden">
                        <label for="weekly-goal-task-reward-value">–ö–æ–ª-–≤–æ –±–∏–ª–µ—Ç–æ–≤</label>
                        <input type="number" name="reward_value" id="weekly-goal-task-reward-value" placeholder="0">
                    </div>
                    
                    <label for="weekly-goal-task-sort-order">–ü–æ—Ä—è–¥–æ–∫ (#)</label>
                    <input type="number" name="sort_order" id="weekly-goal-task-sort-order" value="0">
                    
                    <div class="setting-item" style="padding: 10px 0 0; border: none;">
                        <span class="setting-label">‚úÖ –ó–∞–¥–∞—á–∞ –ê–∫—Ç–∏–≤–Ω–∞</span>
                        <label class="toggle-switch">
                            <input type="checkbox" name="is_active" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <button type="submit">–î–æ–±–∞–≤–∏—Ç—å –ó–∞–¥–∞—á—É</button>
                    <button type="button" id="weekly-goal-cancel-edit-btn" class="admin-action-btn reject hidden" style="margin-top: -5px;">–û—Ç–º–µ–Ω–∞ (—Å–±—Ä–æ—Å–∏—Ç—å —Ñ–æ—Ä–º—É)</button>
                </form>
            </div>
        </div>
    </div>
  

    <script src="admin.js?v=1.1" defer></script>
</body>
</html>
